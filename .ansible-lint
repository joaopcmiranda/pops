---
# ansible-lint configuration for POPS Ansible project

# Exclude paths from linting
exclude_paths:
  - .github/
  - node_modules/
  - services/
  - tools/
  - ansible/inventory/group_vars/pops_servers/vault.yml

# Enable all rules by default, then skip specific ones as needed
skip_list:
  # Skip vault encryption check - vault.yml is intentionally tracked encrypted
  - no-log-password
  # Skip if using package module is preferred over apt (we explicitly want apt for Ubuntu)
  - package-latest
  # Existing code uses task-level become â€” enforce incrementally
  - partial-become
  # Existing role variables don't follow role-prefix convention yet
  - var-naming

# Use strict mode for better code quality
strict: true

# Warn on risky file permissions
warn_list:
  - experimental
  - role-name

# Profile to use (shared = balanced strictness for existing codebase)
profile: shared

# Offline mode (don't check Galaxy)
offline: false

# Minimum ansible version
supported_ansible_also:
  - "2.14"
  - "2.15"
  - "2.16"

# Task name formatting
task_name_prefix: "{stem} | "

# Enable progressive mode
progressive: false
